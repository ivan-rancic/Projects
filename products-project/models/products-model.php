<?php


function getAllProducts() {
    $products = [
        [
            'id' => 1,
            'title' => "Zmaj",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset10.png",
            'price'=> 500,
		    'brand' => "igracka"
		   
        ],
        [
            'id' => 2,
            'title' => "Robot",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset2.png",
            'price'=> 1000,
		    'brand' => "igracka"
        ],
        [
            'id' => 3,
            'title' => "Patkica",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset3.png",
            'price'=> 700,
		    'brand' => "igracka"
        ],
        [
            'id' => 4,
            'title' => "Lopta",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset5.png",
            'price'=> 300,
		    'brand' => "igracka"
        ],
        [
            'id' => 5,
            'title' => "Dinosaurus",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset6.png",
            'price'=> 900,
		    'brand' => "igracka"
        ],
        [
            'id' => 6,
            'title' => "Zmaj",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset10.png",
            'price'=> 500,
		    'brand' => "igracka"
		   
        ],
        [
            'id' => 7,
            'title' => "Robot",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset2.png",
            'price'=> 1000,
		    'brand' => "igracka"
        ],
        [
            'id' => 8,
            'title' => "Patkica",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset3.png",
            'price'=> 700,
		    'brand' => "igracka"
        ],
        [
            'id' => 9,
            'title' => "Lopta",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset5.png",
            'price'=> 300,
		    'brand' => "igracka"
        ],
        [
            'id' => 10,
            'title' => "Dinosaurus",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset6.png",
            'price'=> 900,
		    'brand' => "igracka"
        ],
        [
            'id' => 11,
            'title' => "Zmaj",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset10.png",
            'price'=> 500,
		    'brand' => "igracka"
		   
        ],
        [
            'id' => 12,
            'title' => "Robot",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset2.png",
            'price'=> 1000,
		    'brand' => "igracka"
        ],
        [
            'id' => 13,
            'title' => "Patkica",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset3.png",
            'price'=> 700,
		    'brand' => "igracka"
        ],
        [
            'id' => 14,
            'title' => "Lopta",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset5.png",
            'price'=> 300,
		    'brand' => "igracka"
        ],
        [
            'id' => 15,
            'title' => "Dinosaurus",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset6.png",
            'price'=> 900,
		    'brand' => "igracka"
        ],
        [
            'id' => 16,
            'title' => "Zmaj",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset10.png",
            'price'=> 500,
		    'brand' => "igracka"
		   
        ],
        [
            'id' => 17,
            'title' => "Robot",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset2.png",
            'price'=> 1000,
		    'brand' => "igracka"
        ],
        [
            'id' => 18,
            'title' => "Patkica",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset3.png",
            'price'=> 700,
		    'brand' => "igracka"
        ],
        [
            'id' => 19,
            'title' => "Lopta",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset5.png",
            'price'=> 300,
		    'brand' => "igracka"
        ],
        [
            'id' => 20,
            'title' => "Dinosaurus",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset6.png",
            'price'=> 900,
		    'brand' => "igracka"
        ],
        [
            'id' => 21,
            'title' => "Zmaj",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset10.png",
            'price'=> 500,
		    'brand' => "igracka"
		   
        ],
        [
            'id' => 22,
            'title' => "Robot",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset2.png",
            'price'=> 1000,
		    'brand' => "igracka"
        ],
        [
            'id' => 23,
            'title' => "Patkica",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset3.png",
            'price'=> 700,
		    'brand' => "igracka"
        ],
        [
            'id' => 24,
            'title' => "Lopta",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => true,
            'category' => 1,
            'img' => "./public/theme/img/Asset5.png",
            'price'=> 300,
		    'brand' => "igracka"
        ],
        [
            'id' => 25,
            'title' => "Dinosaurus",
            'description' => "Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book.",
            'available' => false,
            'category' => 1,
            'img' => "./public/theme/img/Asset6.png",
            'price'=> 900,
		    'brand' => "igracka"
        ]
    ];

    return $products;
}

function getAvailableProducts() {
    $allProducts = getAllProducts();
    $availabaleProducts = [];
    foreach ($allProducts as $product) {
        if($product['available'] == true) {
            $availabaleProducts[] = $product;
        }
    }
    return $availabaleProducts;
}

function filteredProducts($products, $term) {
    $filteredProducts = [];
    foreach ($products as $product) {
        if(str_contains($product['title'], $term)) {
            $filteredProducts[] = $product;
        }
    }

    return $filteredProducts;
}


function sortProducts($products, $sort) {

    if ($sort == "price-desc") {
        array_multisort(array_column($products, 'price'), SORT_DESC, $products);
    }
    if ($sort == "price-asc") {
        array_multisort(array_column($products, 'price'), SORT_ASC, $products);
    }

    return $products;
}


function getOneProductById($id) {
    $products = getAvailableProducts();
    foreach ($products as $product) {
        if($product['id'] == $id) {
            return $product;
        }
    }
}

function getRelatedProducs($mainProduct) {
    $related = [];
    $products = getAvailableProducts();
    foreach ($products as  $product) {
        if($product['category'] == $mainProduct['category'] && $mainProduct['id'] != $product['id']) {
            $related[] = $product;
            if(count($related) >= 3) {
                break;
            }
        }
    }
    return $related;
}



// function getNextProducts($id) {
//     $allProducts = getAllProducts();
    
// for ($i=0; $i < count($allProducts); $i++) { 
//     if($allProducts[$i] == $id) {
//         return $allProducts[$i+1];
//     }
// }


// }

